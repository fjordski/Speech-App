<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>THE FUTURE IS NIGH</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script
            src="https://code.jquery.com/jquery-3.1.1.min.js"
            integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>
</head>
<body>

<div class="container">
    <h1 class="text-center">Speak and it shall be.</h1>
    <svg version="1.1" class="center-block" id="mic" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 58 58" style="enable-background:new 0 0 58 58;" xml:space="preserve">
<g>
	<path d="M44,28c-0.552,0-1,0.447-1,1v6c0,7.72-6.28,14-14,14s-14-6.28-14-14v-6c0-0.553-0.448-1-1-1s-1,0.447-1,1v6
		c0,8.485,6.644,15.429,15,15.949V56h-5c-0.552,0-1,0.447-1,1s0.448,1,1,1h12c0.552,0,1-0.447,1-1s-0.448-1-1-1h-5v-5.051
		c8.356-0.52,15-7.465,15-15.949v-6C45,28.447,44.552,28,44,28z"/>
	<path d="M29,46c6.065,0,11-4.935,11-11V11c0-6.065-4.935-11-11-11S18,4.935,18,11v24C18,41.065,22.935,46,29,46z M22.469,4.826
		C22.625,4.927,22.8,5,23,5c0.552,0,1-0.448,1-1c0-0.148-0.036-0.286-0.094-0.412C25.356,2.589,27.11,2,29,2
		s3.644,0.589,5.094,1.588C34.036,3.714,34,3.852,34,4c0,0.552,0.448,1,1,1c0.2,0,0.375-0.073,0.531-0.174
		c0.59,0.623,1.09,1.329,1.484,2.1C37.013,6.952,37,6.974,37,7c0,0.319,0.159,0.591,0.392,0.774C37.779,8.777,38,9.862,38,11v1
		c-0.552,0-1,0.448-1,1s0.448,1,1,1v4c-0.552,0-1,0.448-1,1s0.448,1,1,1v4c-0.552,0-1,0.448-1,1s0.448,1,1,1v4c-0.552,0-1,0.448-1,1
		s0.448,1,1,1v3c0,0.343-0.023,0.679-0.061,1.012C37.417,36.045,37,36.469,37,37c0,0.377,0.217,0.693,0.525,0.864
		c-0.766,2.272-2.413,4.137-4.536,5.192C32.99,43.036,33,43.02,33,43c0-0.552-0.448-1-1-1s-1,0.448-1,1
		c0,0.271,0.11,0.515,0.285,0.695C30.554,43.887,29.791,44,29,44s-1.554-0.113-2.285-0.305C26.89,43.515,27,43.271,27,43
		c0-0.552-0.448-1-1-1s-1,0.448-1,1c0,0.02,0.01,0.036,0.011,0.056c-2.123-1.056-3.771-2.92-4.536-5.192
		C20.783,37.693,21,37.377,21,37c0-0.531-0.417-0.955-0.939-0.988C20.023,35.679,20,35.343,20,35v-3c0.552,0,1-0.448,1-1
		s-0.448-1-1-1v-4c0.552,0,1-0.448,1-1s-0.448-1-1-1v-4c0.552,0,1-0.448,1-1s-0.448-1-1-1v-4c0.552,0,1-0.448,1-1s-0.448-1-1-1v-1
		c0-1.138,0.221-2.223,0.608-3.226C20.841,7.591,21,7.319,21,7c0-0.026-0.013-0.048-0.015-0.074
		C21.379,6.155,21.879,5.449,22.469,4.826z"/>
	<circle cx="29" cy="4" r="1"/>
	<circle cx="26" cy="7" r="1"/>
	<circle cx="26" cy="13" r="1"/>
	<circle cx="23" cy="10" r="1"/>
	<circle cx="29" cy="10" r="1"/>
	<circle cx="23" cy="16" r="1"/>
	<circle cx="29" cy="16" r="1"/>
	<circle cx="32" cy="7" r="1"/>
	<circle cx="32" cy="13" r="1"/>
	<circle cx="35" cy="10" r="1"/>
	<circle cx="35" cy="16" r="1"/>
	<circle cx="26" cy="19" r="1"/>
	<circle cx="26" cy="25" r="1"/>
	<circle cx="23" cy="22" r="1"/>
	<circle cx="29" cy="22" r="1"/>
	<circle cx="23" cy="28" r="1"/>
	<circle cx="29" cy="28" r="1"/>
	<circle cx="32" cy="19" r="1"/>
	<circle cx="32" cy="25" r="1"/>
	<circle cx="35" cy="22" r="1"/>
	<circle cx="35" cy="28" r="1"/>
	<circle cx="26" cy="31" r="1"/>
	<circle cx="26" cy="37" r="1"/>
	<circle cx="23" cy="34" r="1"/>
	<circle cx="29" cy="34" r="1"/>
	<circle cx="23" cy="40" r="1"/>
	<circle cx="29" cy="40" r="1"/>
	<circle cx="32" cy="31" r="1"/>
	<circle cx="32" cy="37" r="1"/>
	<circle cx="35" cy="34" r="1"/>
	<circle cx="35" cy="40" r="1"/>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
</svg>
    <div class="words" contenteditable></div>
    <div id="data"></div>

</div>

<style>
    @import url('https://fonts.googleapis.com/css?family=Ranga');

    .words {
        font-family: 'Ranga', cursive;
        font-size: 2.5em;
        color: red;
        margin: 0 auto;
        text-align: center;
        width: 100%;
        height: 5em;
    }

    #mic {
        width: 35px;
        transition: .3s;
    }

</style>
<script>
    window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

    const recognition = new SpeechRecognition();
    recognition.interimResults = true;

    let p = document.createElement('p');
    const words = document.querySelector('.words');
    words.appendChild(p);

    recognition.addEventListener('result', e => {

        console.log(e.results);

        const transcript = Array.from(e.results)
            .map(result => result[0])
            .map(result => result.transcript)
            .join('');

        p.textContent = transcript;

        if (transcript.includes('pink')) {
            $('body').css('background-color', 'pink');
        }

        if (transcript.includes('oops')) {
            $('body').css('background-color', 'white');
        }

        if (transcript) {
            $('#mic').css('fill', 'red');
            setTimeout(function () {
                $('#mic').css('fill', 'black');
                $('p').delay(2000).empty();
            }, 1000);
        }
    });
    recognition.addEventListener('end', recognition.start);

    recognition.start();

</script>
</body>
</html>